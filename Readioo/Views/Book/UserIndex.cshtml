@using Readioo.Business.DataTransferObjects.Book
@model IEnumerable<BookDto>

@{
    ViewData["Title"] = "Browse Books";
}

<div class="wrap" id="browse-page">

    <!-- Page Caption / Subtitle -->
    <div class="browse-hero mb-4 p-4 text-center" style="background: linear-gradient(135deg, #e8f6f5, #ffffff); border-radius: 12px; box-shadow: 0 6px 18px rgba(12,12,12,0.03);">
        <h1 class="mb-2">Explore Our Collection</h1>
        <p class="text-muted">Discover new titles, browse by your favorite genres, and track your reading journey.</p>
    </div>

    <!-- Page Title -->
    <h2 class="section-title">📚 All Books</h2>

    <div class="book-grid">
        @foreach (var book in Model)
        {
            <a asp-action="Details" asp-route-id="@book.BookId">
            <div class="book-card" >

                <!-- Book Cover -->
                <div class="book-cover">
                    <img src="~/@book.BookImage" alt="@book.Title" />
                </div>

                <!-- Book Info -->
                <div class="book-info">
                    <div class="book-title">@book.Title</div>
                    <div class="book-author">@book.AuthorName</div>

                    <!-- Rating Stars -->
                    <div class="book-rating">
                        @for (int i = 0; i < 5; i++)
                        {
                            if (i < Math.Round(book.Rate))
                            {
                                <text>
                                    <svg viewBox="0 0 20 20" fill="#f6b438" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286
                                                3.951a1 1 0 00.95.69h4.162c.969 0 1.371
                                                1.24.588 1.81l-3.37 2.448a1 1 0
                                                00-.364 1.118l1.286 3.951c.3.921-.755
                                                1.688-1.538 1.118l-3.37-2.448a1
                                                1 0 00-1.176 0l-3.37 2.448c-.783.57-1.838-.197-1.538-1.118l1.286-3.951a1
                                                1 0 00-.364-1.118L2.063 9.378c-.783-.57-.38-1.81.588-1.81h4.162a1
                                                1 0 00.95-.69l1.286-3.951z" />
                                    </svg>
                                </text>
                            }
                            else
                            {
                                <text>
                                    <svg viewBox="0 0 20 20" fill="#e0e0e0" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286
                                                3.951a1 1 0 00.95.69h4.162c.969 0 1.371
                                                1.24.588 1.81l-3.37 2.448a1 1 0
                                                00-.364 1.118l1.286 3.951c.3.921-.755
                                                1.688-1.538 1.118l-3.37-2.448a1
                                                1 0 00-1.176 0l-3.37 2.448c-.783.57-1.838-.197-1.538-1.118l1.286-3.951a1
                                                1 0 00-.364-1.118L2.063 9.378c-.783-.57-.38-1.81.588-1.81h4.162a1
                                                1 0 00.95-.69l1.286-3.951z" />
                                    </svg>
                                </text>
                            }
                        }
                    </div>
                </div>

            </div>
            </a>
        }
    </div>
</div>

<!-- Include same CSS/JS as Home Page -->
<link rel="stylesheet" href="~/css/globalandbook.css" />
<link rel="stylesheet" href="~/css/home.css" />
<script src="~/js/book.js"></script>
