@model Readioo.ViewModel.UserProfileVM

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
<link rel="stylesheet" href="~/css/globalandbook.css" />
<link rel="stylesheet" href="~/css/profile.css" />


<body>

    <!-- Profile Section -->
    <main class="profile-page container">
        <div class="profile-header">
            <div class="profile-pic">

                @if (Model.UserImage != null)
                {
                    <!-- Display user's uploaded image -->
                    <img src="data:image/png;base64,@Convert.ToBase64String(Model.UserImage)"
                         alt="User Photo" />
                }
                else
                {
                    <!-- Default image -->
                    <img src="/images/default-profile.png"
                         alt="User Photo" />
                }

            </div>

            <div class="profile-info">
                <!-- User's Name -->
                <h2 class="username">@Model.FullName</h2>

                <!-- User Bio -->
                <p class="bio">
                    @Model.Bio
                </p>

                <div class="action-buttons">
                    <a asp-controller="User" asp-action="Edit" class="btn btn-outline-primary btn-sm">
                        Edit Profile
                    </a>
                </div>
            </div>
        </div>


        <div class="stats">
            @foreach (var shelf in Model.Shelves)
            {
                <div class="stat-box">
                    <h4>@shelf.ShelfName</h4>
                    <p>@shelf.BooksCount books</p>
                </div>
            }
        </div>



        <section class="bookshelf">
            <h3>📚 Favorite Books</h3>
            <div class="book-grid" id="favBooks"></div>
        </section>

    </main>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="~/js/profile.js"></script>

</body>
